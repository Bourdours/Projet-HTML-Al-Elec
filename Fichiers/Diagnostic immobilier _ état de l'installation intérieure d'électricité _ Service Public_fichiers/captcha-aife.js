define(["jquery"],function(a){"use strict";function r(){document.getElementById("captchetat")&&(window.captchetatComponentModule.generateCaptcha(),c(),t())}function t(){var r=a("#captchaFormulaireExtInput"),t=document.getElementById("error-div-id"),e=a("#error_login").attr("aria-hidden"),c=document.getElementById("messagesCreateAccount"),i=a("#errorMessages").is(":visible"),n=a("#fieldMessages").is(":visible"),o=a("[data-test=ise-captcha-error]").is(":visible");if(t&&!i&&!n){r.parent().addClass("has-error");var l=r.parent().parent().parent();a("#fr-input-group-captcha01").addClass("fr-input-group--error"),a("#captchaFormulaireExtInput").addClass("fr-input--error"),a("#captchaFormulaireExtInput").focus(),setTimeout(function(){l.hasClass("collapse")&&!l.hasClass("in")&&l.addClass("in"),r.focus(),r.attr("aria-describedby","error-div-id captcha-hint2")},2e3)}c&&(a("#captchaFormulaireExtInput").parent().addClass("has-error"),c.focus()),"false"===e&&(a("#captchaFormulaireExtInput").parent().addClass("has-error"),a("#captchaFormulaireExtInput").attr("aria-describedby","error_login captcha-hint2")),i&&a("#captchaFormulaireExtInput").focus(),n&&a("#captchaFormulaireExtInput").focus(),o&&(a("#error-div-captcha").remove(),a("#captchaFormulaireExtInput").parent().addClass("fr-input-group--error"),a("#captchaFormulaireExtInput").addClass("fr-input--error"),setTimeout(function(){a("#captchaFormulaireExtInput").attr("aria-describedby","ise-captcha-error captcha-hint2"),a("#captchaFormulaireExtInput").focus()},2e3))}function e(){a("#iconSound").attr("aria-hidden",!0).attr("focusable",!1),a("#iconReload").attr("aria-hidden",!0).attr("focusable",!1);var r=a("#captchaFormulaireExtInput").attr("aria-describedby");a("#captchaFormulaireExtInput").attr("aria-describedby",r.replaceAll("spinner",""))}function c(){var r=0,t=setInterval(function(){++r,a("#captchaImage").length&&(a("#spinner").attr("hidden","hidden"),a("#captchetat").removeAttr("hidden"),clearInterval(t),e()),100===r&&(a("#spinner").attr("hidden","hidden"),a("#alert-bloc").removeAttr("hidden"),a("#alert-bloc").attr("role","alert"),a("#alert-message").attr("tabindex",-1).focus(),a("#captchaFormulaireExtInput").prop("disabled",!0),clearInterval(t),a("#alert-bloc").attr("role","alert"),a("#alert-bloc").html(i),a(".alert.alert-bloc.alert-danger").removeAttr("role"))},100)}var i='<div class="fr-mb-4w  fr-alert fr-alert--error">  <p>Le code de sécurité est actuellement indisponible.</p>  <p>Vous pouvez tenter de recharger la page ou revenir plus tard.</p> </div>';return{showCaptchaAIFEV:r}});